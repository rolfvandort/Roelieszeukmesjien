<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>De Zeukmesjien - Jurisprudentie & Wettenbank Zoeker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="header-bar">
    <div class="header-content">
      <div class="logo">
        <img src="https://i.postimg.cc/6qSfFtkW/Van-Dort-logo-compleet-RGB-scaled.jpg" alt="Logo van de zaak" height="24">
        Roelies Zeukmesjien
      </div>
      <div class="user-info"><strong>Raoul van Dort</strong> | Welcome to the "Roelieverse"</div>
    </div>
  </div>

  <div class="container main-content-grid">
    <div class="search-column">
      <div class="dashboard-card">
        <div class="card-header"><h2>Jurisprudentie Zoeker</h2></div>
        <div class="card-body">
          <div class="quick-search-section">
            <div class="search-input-container">
              <input type="text" id="quickSearchInput" class="quick-search-input" placeholder="Zoek op trefwoord, ECLI, zaaknummer...">
              <button id="quickSearchButton" class="quick-search-button">Zoek</button>
            </div>
          </div>
          <div class="filter-toggle-container">
            <button id="showFiltersButton" class="tertiary-button">▼ Geavanceerd zoeken</button>
            <button id="resetFiltersButton" class="reset-button">Reset</button>
          </div>
          <div id="apiFilters" class="filters-section" style="display:none">
            <!-- Filter opties zoals Periode, Uitspraakdatum, Rechtsgebied, Instantie, etc -->
            <label for="periodPreset">Periode:</label>
            <select id="periodPreset">
              <option value="">-- Selecteer periode --</option>
              <option value="last-month">Laatste maand</option>
              <option value="last-3-months">Laatste 3 maanden</option>
              <option value="last-6-months">Laatste 6 maanden</option>
              <option value="this-year">Dit jaar</option>
              <option value="last-year">Vorig jaar</option>
              <option value="custom">Aangepaste periode...</option>
            </select>
            <div id="customDateRange" style="display:none">
              <input type="date" id="dateFrom"> tot
              <input type="date" id="dateTo">
            </div>
            <label for="dateFilterType">Filter op:</label>
            <select id="dateFilterType">
              <option value="uitspraakdatum">Uitspraakdatum</option>
              <option value="wijzigingsdatum">Wijzigingsdatum</option>
            </select>
            <label for="subject">Rechtsgebied:</label>
            <select id="subject"></select>
            <label for="procedure">Procedure:</label>
            <select id="procedure"></select>
            <label for="creator">Instantie:</label>
            <div class="input-with-clear">
              <input type="text" id="creator">
              <button id="clearCreator" class="clear-input" style="display:none">✕</button>
              <div id="creatorSuggestions" class="autocomplete-suggestions"></div>
            </div>
            <div>
              <input type="radio" name="documentType" value="" checked>Alle
              <input type="radio" name="documentType" value="Uitspraak">Uitspraak
              <input type="radio" name="documentType" value="Conclusie">Conclusie
            </div>
            <label for="sortOrder">Sortering:</label>
            <select id="sortOrder">
              <option value="DESC">Nieuwste eerst (publicatie)</option>
              <option value="ASC">Oudste eerst (publicatie)</option>
              <option value="date-desc">Nieuwste eerst (uitspraak)</option>
              <option value="date-asc">Oudste eerst (uitspraak)</option>
            </select>
            <button id="apiSearchButton" class="primary-button">Zoek uitspraken</button>
          </div>
        </div>
      </div>

      <!-- Chat assistant boven resultaten -->
      <div class="chat-assistant-container">
        <h3>Vraag het aan de AI</h3>
        <textarea id="chatInput" placeholder="Stel je juridische vraag..."></textarea>
        <button onclick="askLegalAI()">Vraag AI</button>
        <div id="chatOutput"></div>
      </div>

      <!-- Resultaten -->
      <div id="resultsHeader" class="results-header" style="display:none"></div>
      <div id="totalResultsText"></div>
      <div id="activeFilters" class="active-filters-container"></div>
      <div class="smart-search-section hidden" id="smartSearchSection">
        <div class="smart-search-controls">
          <input type="text" id="smartSearchInput" class="filter-input" placeholder="Zoek binnen resultaten">
          <button id="smartFilterButton" class="primary-button">Filter</button>
        </div>
        <div>
          Zoek in:
          <label class="checkbox-option"><input type="checkbox" name="searchIn" value="title" checked><span class="checkmark"></span> Titel</label>
          <label class="checkbox-option"><input type="checkbox" name="searchIn" value="summary" checked><span class="checkmark"></span> Samenvatting</label>
          <label class="checkbox-option"><input type="checkbox" name="searchIn" value="ecli"><span class="checkmark"></span> ECLI</label>
        </div>
      </div>
      <div id="backgroundLoader" class="background-loader" style="display:none"><span class="spinner-small"></span> Laden...</div>
      <div id="jurisprudenceResults" class="results-container"></div>
      <div id="jurisprudencePagination" class="pagination-container"></div>
      <div id="jurisprudenceStatus" class="status-message"></div>
      <div id="loadingIndicator" class="loading-indicator" style="display:none"><span class="spinner"></span>Zoeken in database...</div>
    </div>

    <div class="search-column">
      <!-- Wettenbank zoeker en modal/trefwoorden (optioneel) kunnen hier -->
      <div class="dashboard-card">
        <div class="card-header"><h2>Wettenbank Zoeker (SRU 2.0)</h2></div>
        <div class="card-body">
          <div class="filter-group">
            <label for="wettenbankKeyword">Zoeken op trefwoord:</label>
            <div class="search-input-container">
              <input type="text" id="wettenbankKeyword" class="filter-input" placeholder="bv. bestemmingsplan">
              <button id="wettenbankSearchButton" class="primary-button">Zoek</button>
            </div>
          </div>
          <div id="wettenbankStatus" class="status-message"></div>
          <div class="filter-toggle-container" style="margin-top:20px;">
            <button id="toggleWettenbankFiltersButton" class="secondary-button" style="display:none;">▼ Verfijn resultaten</button>
          </div>
          <div id="wettenbankFacets" class="facet-container" style="display:none"></div>
          <div id="wettenbankResults" class="results-container"></div>
          <div id="wettenbankPagination" class="pagination-container"></div>
        </div>
      </div>
      <!-- Modal keywords -->
      <div id="keywordModal" class="modal-container" style="display:none;">
        <div class="modal-card">
          <div class="modal-header">
            <h3>Selecteer trefwoorden</h3>
            <button id="closeKeywordModal" class="close-modal-button">✕</button>
          </div>
          <div class="modal-body">
            <p>Kies de trefwoorden waarmee je in de Wettenbank wilt zoeken.</p>
            <div id="keywordOptions" class="keyword-options"></div>
          </div>
          <div class="modal-footer">
            <button id="searchWithKeywordsButton" class="primary-button">Zoek op geselecteerde trefwoorden</button>
          </div>
        </div>
      </div>
      <!-- Document viewer modal -->
      <div id="documentViewer" class="document-viewer-container" style="display:none;">
        <div class="document-viewer-card">
          <div class="document-viewer-header">
            <h3>Bekijk document</h3>
            <button class="close-modal-button" onclick="document.getElementById('documentViewer').style.display='none'">✕</button>
          </div>
          <div class="document-viewer-body"></div>
          <div class="document-viewer-footer"></div>
        </div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
